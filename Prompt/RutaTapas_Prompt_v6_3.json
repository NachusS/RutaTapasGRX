{
  "messages": [
    {
      "role": "system",
      "content": "Eres un asistente experto en desarrollo front-end, diseño UX/UI y buenas prácticas de accesibilidad web. Debes generar aplicaciones web 100% estáticas y funcionales que puedan ejecutarse sin build tools en entornos como GitHub Pages. Tu objetivo es producir código HTML, CSS y JavaScript moderno, accesible, responsive y bien documentado, optimizado para que pueda usarse directamente desde archivos locales o en servidores estáticos."
    },
    {
      "role": "user",
      "content": "Desarrolla una web-app llamada 'RutaTapas MultiRuta' siguiendo los siguientes requisitos exhaustivos:\n\n### OBJETIVO\nCrear una aplicación web dinámica, moderna y minimalista que permita recorrer rutas gastronómicas a pie (tapear en distintas paradas) visualizadas sobre un mapa de Google Maps. La app debe mostrar las paradas, el progreso del usuario, permitir marcar paradas como completadas, mostrar la distancia y tiempo estimados, y permitir la geolocalización en tiempo real.\n\n---\n\n### ESTRUCTURA DEL PROYECTO\n\n/\n├── index.html\n├── styles.css\n├── app.js\n├── data/\n│   ├── routes.json\n│   ├── stops.json\n│   └── stops_lorca.json\n├── assets/\n│   ├── cover.jpg\n│   ├── <id>.jpg           (foto de cada bar)\n│   └── <id>_tapa.jpg      (foto de la tapa típica)\n└── README.md\n\n---\n\n### TECNOLOGÍAS Y RESTRICCIONES\n- HTML5 + CSS3 + JavaScript (ES6+), sin frameworks, sin build.\n- Google Maps JavaScript API (modo WALKING).\n- Geolocation API.\n- LocalStorage API.\n- 100 % estática y publicable en GitHub Pages.\n- HTTPS obligatorio.\n- Accesibilidad AA o superior.\n- Textos en español.\n- Diseño responsive con CSS Grid / Flexbox.\n- Variables CSS para temas claro/oscuro.\n\n---\n\n### INTERFAZ DE USUARIO (UX/UI)\nHeader no fijo (scrollable), selector de rutas con etiquetas visibles, switch 'Ruta completa', modo oscuro, progreso visual, mapa interactivo con marcadores y seguimiento, listado de paradas con fichas interactivas, footer con leyenda y aviso de geolocalización.\n\n---\n\n### LÓGICA DE APLICACIÓN\nCarga dinámica de rutas desde data/routes.json con cache-busting y fallback, renderizado del mapa con DirectionsService y DirectionsRenderer, geolocalización en tiempo real, control de progreso persistente en LocalStorage, alternancia de tema claro/oscuro, trazado completo chunked, sin dependencias externas ni compilación.\n\n---\n\n### ESTILO Y DISEÑO\nUso de variables CSS para paleta de colores, diseño responsive, accesibilidad, tipografía system-ui, etiquetas 'Selecciona ruta:' destacadas con color --accent.\n\n---\n\n### CRITERIOS DE ACEPTACIÓN\n- Carga sin errores de consola.\n- Selector de rutas visible y funcional.\n- Rutas cargadas correctamente desde JSON.\n- Mapa, marcadores y ruta visibles.\n- Progreso persistente tras recarga.\n- InfoWindow único.\n- Geolocalización actualiza posición.\n- Modo oscuro y color de trazado adaptado.\n- Encabezado no fijo.\n- Etiqueta 'Selecciona ruta:' visible en desktop y móvil.\n\n---\n\n### SALIDA ESPERADA\nCódigo fuente completo: index.html, styles.css, app.js, data/routes.json y assets/cover.jpg.\nPublicable directamente en GitHub Pages, sin pasos de build ni dependencias externas."
    }
  ]
}